1> exp5:run_experiment().


This experiment tests task 5 of the assignment. It will show the fragments stored at node 1 and node 10 to show that node 1 does not initially contain fragment 10. Fragment 10 will be requested and 200 rounds of gossip will run. The fragments now stored at node 1 will be printed to prove it now stores fragment 10.

%% Starting monitor
%% Creating netowork with 1000 nodes
%% Fragment 10 has ID <0.1046.0>

//////////////////////

%% Showing fragments currently stored at node 1
[{fragment,<0.1055.0>,undefined,undefined,
           [22,590,569,431,319,406,901,295,998,785],
           store},
 {fragment,<0.1053.0>,<0.1053.0>,undefined,
           [780,276,775,720,645,335,124,840,31,944,487,870,325,860,392,502,
            758,236,160,760,54,841,457,617,530,761,334,448,121,280,135,20,8,
            995,502,366,397,594,813,710,731,274,871,645,377,884,318,219,249,
            379,698,622,576,93,675,199,353,752,46,287,469,210,896,778,920,783,
            134,443,98,321,866,609,36,462,685,428,679,777,160,960,600,106,108,
            94,410,226,706,735,270,118,252,911,457,10,391,788],
           replicate},
 {fragment,<0.1054.0>,<0.1054.0>,undefined,
           [384,522,414,843,770,177,274,307,455,11,788,639,912,902,645,375,
            413,951,827,339,351,804,158,55,770,306,441,977,834,173,41,528,343,
            882,110,519,603,134,102,450,309,80,637,90,725,280,134,713,244,210,
            926,47,255,952,612,774,365,574,865,75,669,819,949,499,174,95,585,
            241,779,511,199,367,948,297,608,485,439,9,981,210,93,435,169,133,
            786],
           replicate}]

%% Notice node 1 does not have fragment 10 (fragment ID <0.1046.0>)
//////////////////////

%% Showing fragments currently stored at node 10
[{fragment,<0.1046.0>,undefined,undefined,[838,826,792,635,988,797],store},
 {fragment,<0.1051.0>,<0.1051.0>,undefined,
           [920,944,585,638,124,241,694,462,594,891,853,40,295,821,689,775,
            271,891,515,810,628,295,972,193,815,453,574,6,197,855,311,515,133,
            315,184,981,285,75,365,173,907,149,950,283,420,187,608,791,361,
            443,901,706,381,660,785,914,369,862,125,792],
           replicate},
 {fragment,<0.1035.0>,<0.1035.0>,undefined,
           [67,773,951,146,956,238,618,516,284,203,304,512,258,162,702,600,73,
            84,369,211,694,425,837,915,393,282,313,979,176,149,202,421,121,
            438,881,450,739,415,164,231,400,975,684,193,892,250,120,6,137,837,
            501,38,933,56,279,342,697,222,862,172,878,864,613,293,507,100,989,
            646,746,317,159,611,643,438,604,665,807],
           replicate},
 {fragment,<0.1036.0>,<0.1036.0>,undefined,
           [611,647,197,911,850,449,626,87,453,970,678,511,268,298,644,673,
            931,817,4,513,357,459,683,184,82,355,575,806],
           replicate}]

%% Notice node 10 does have fragment 10 (fragment ID <0.1046.0>)

//////////////////////

%% Requesting fragment 10 to be stored at node 1
%% Stepping through 200 steps of gossip

//////////////////////

%% Showing fragments now stored at node 1
[{fragment,<0.1055.0>,undefined,undefined,
           [22,590,569,431,319,406,901,295,998,785],
           store},
 {fragment,<0.1053.0>,<0.1053.0>,undefined,
           [780,276,775,720,645,335,124,840,31,944,487,870,325,860,392,502,
            758,236,160,760,54,841,457,617,530,761,334,448,121,280,135,20,8,
            995,502,366,397,594,813,710,731,274,871,645,377,884,318,219,249,
            379,698,622,576,93,675,199,353,752,46,287,469,210,896,778,920,783,
            134,443,98,321,866,609,36,462,685,428,679,777,160,960,600,106,108,
            94,410,226,706,735,270,118,252,911,457,10,391,788],
           replicate},
 {fragment,<0.1054.0>,<0.1054.0>,undefined,
           [384,522,414,843,770,177,274,307,455,11,788,639,912,902,645,375,
            413,951,827,339,351,804,158,55,770,306,441,977,834,173,41,528,343,
            882,110,519,603,134,102,450,309,80,637,90,725,280,134,713,244,210,
            926,47,255,952,612,774,365,574,865,75,669,819,949,499,174,95,585,
            241,779,511,199,367,948,297,608,485,439,9,981,210,93,435,169,133,
            786],
           replicate},
 {fragment,<0.1046.0>,<0.1054.0>,<0.1055.0>,[838,826,792,635,988,797],reply}]

%% Notice node 1 now contains fragment 10 with ID <0.1046.0>
ok

